<?xml version="1.0" encoding="UTF-8"?>

<infinispan xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xmlns="urn:infinispan:config:8.1"
            xsi:schemaLocation="urn:infinispan:config:8.1 http://www.infinispan.org/schemas/infinispan-config-8.1.xsd">

    <jgroups>
        <stack-file name="hibernate-jgroups" path="${hibernate.infinispan.jgroups.stack_file:/config/jgroups-stack-mping.xml}"/>
    </jgroups>

    <cache-container name="WssCacheManager" statistics="true" default-cache="the-default-cache" shutdown-hook="DEFAULT">
        <transport stack="hibernate-jgroups" cluster="infinispan-hibernate-cluster"/>

        <jmx duplicate-domains="true"/>

        <local-cache-configuration name="the-default-cache" statistics="false" />


        <invalidation-cache name="book-cache">
            <locking concurrency-level="1000" acquire-timeout="15000"/>
            <transaction mode="NON_XA"
                         transaction-manager-lookup="org.infinispan.transaction.lookup.GenericTransactionManagerLookup"/>
            <eviction size="10000" strategy="LRU"/>
            <expiration max-idle="100000" interval="5000"/>
        </invalidation-cache>
        <invalidation-cache name="author-cache">
            <locking concurrency-level="1000" acquire-timeout="15000"/>
            <transaction mode="NON_XA"
                         transaction-manager-lookup="org.infinispan.transaction.lookup.GenericTransactionManagerLookup"/>
            <eviction size="10000" strategy="LRU"/>
            <expiration max-idle="100000" interval="5000" lifespan="300000"/>
        </invalidation-cache>


    </cache-container>

</infinispan>
